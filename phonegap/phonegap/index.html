<!DOCTYPE html>
<html>
<head>
    <title>My First Mobile Site</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="css/pizza.css" rel="stylesheet" />
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.css"/>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.js"></script>
</head>

<body data-gwen="red">
<!--first page-->


<div data-role="page" id="homepage" style="">
    <header><img src="img/L-pizza.jpg"></header>
    <div data-role="header" data-id="navbar" data-position="fixed">
        <div data-role="navbar">
            <ul>
                <li><a href="#homepage" class="ui-btn-active ui-state-persist">Contact Us</a></li>
                <li><a href="#secondpage">Menu</a></li>
                <li><a href="#thirdpage">Order</a></li>
                <li><a href="#about_us">About Us</a></li>
                <li><a href="#map">Map</a></li>
            </ul>
        </div>
    </div>

    <div data-role="content">

        <p>
            Contact Us<br/>

            <a href="tel:555-555-5555" data-role="button"> Order Pizza by Phone: 555-555-5555 </a>
            <a href="sms://:555-555-5555?body=hello%20Gwen" data-role="button"> Order Pizza Now by Text Message </a>
            <a href="mailto:gwenlangeberg@gmail.com?subject=hello%20Gwen&body=what%20are%20you%20Doing?" data-role="button"> Order Pizza Now by Email </a>
        </p>

    </div>

    <div data-role="footer" data-position="fixed">
        <i>Copyright Gwen Langeberg </i>
    </div>
</div>


<!--second page-->
<div data-role="page" id="secondpage">
    <header><img src="img/L-pizza.jpg"></header>
    <div data-role="header" data-id="navbar" data-position="fixed">
        <div data-role="navbar">
            <ul>
                <li><a href="#homepage">Contact Us</a></li>
                <li><a href="#secondpage" class="ui-btn-active ui-state-persist">Menu</a></li>
                <li><a href="#thirdpage">Order</a></li>
                <li><a href="#about_us">About Us</a></li>
                <li><a href="#map">Map</a></li>
            </ul>
        </div>
    </div>


    <div data-role="collapsible-set">

        <div data-role="collapsible" data-collapsed="false">
            <h3>Pizza Crust</h3>
            <ul>
                <li>Thin</li>
                <li>Thick</li>
                <li>Stuffed</li>
            </ul>
        </div>

        <div data-role="collapsible">
            <h3>Toppings</h3>
            <ul>
                <li>Pepperoni</li>
                <li>Sausage</li>
                <li>Canadian Bacon</li>
                <li>Chicken</li>
                <li>Olives</li>
                <li>Mushrooms</li>
                <li>Pineapple</li>
            </ul>
        </div>

        <div data-role="collapsible">
            <h3>Sides</h3>
            <ul>
                <li>Mac and Cheese</li>
                <li>Buffalo Wings</li>
                <li>Mashed Potatoes and Gravy</li>
                <li>Corn on the Cob</li>
            </ul>
        </div>

        <div data-role="collapsible">
            <h3>Specialty Pizza's</h3>
            <ul>
                <li>Hawaiian</li>
                <li>Meat Lovers</li>
                <li>Cheese</li>
                <li>Chicken Ranch</li>
                <li>Vegetarian</li>
            </ul>
        </div>

        <div data-role="collapsible">
            <h3>Drinks</h3>
            <ul>
                <li>Mountain Dew</li>
                <li>Pepsi</li>
                <li>Coke</li>
                <li>Dr.Pepper</li>
                <li>Root Beer</li>
                <li>Diet Coke</li>
            </ul>
        </div>
    </div>


    <div data-role="footer" data-position="fixed">
        <i>Copyright Gwen Langeberg </i>
    </div>
</div>


<!--third page-->
<div data-role="page" id="thirdpage">
    <header><img src="img/L-pizza.jpg"></header>
    <div data-role="header" data-id="navbar" data-position="fixed">
        <div data-role="navbar">
            <ul>
                <li><a href="#homepage">Contact Us</a></li>
                <li><a href="#secondpage">Menu</a></li>
                <li><a href="#thirdpage" class="ui-btn-active ui-state-persist">Order</a></li>
                <li><a href="#about_us">About Us</a></li>
                <li><a href="#map">Map</a></li>
            </ul>
        </div>
    </div>



    <div data-role="content">

        <div data-product='2120' class="product">
            <span data-name='supreme'>Supreme Pizza</span>
            <span data-price='19.99'>19.99</span>
            <span class="description">Ingredients: Peporoni, Sausage, Green Peppers, Onions </span>
        </div>




        <div data-product='1120' class="product">
            <span data-name='meat'>Meat Lovers</span>
            <span data-price='26.99'>26.99</span>
            <span class="description">Ingredients: Peperoni, Sausage, Canadian bacon, Salami </span>
        </div>




        <div data-product='3120' class="product">
            <span data-name='hawaiin'>Hawaiian Pizza</span>
            <span data-price='23.95'>19.95</span>
            <span class="description">Ingredients: Canadian Bacon, Pinapple, Cheese</span>
        </div>

        <div id="cartDiv">

        </div>

        <div>
            <p><button id="buy">Buy Now</button></p>
        </div>
    </div>
    <div data-role="footer" data-position="fixed">
        <i>Copyright Gwen Langeberg </i>
    </div>
</div>

<div data-role="page" id="about_us" style="">
    <header><img src="img/L-pizza.jpg"></header>
    <div data-role="header" data-id="navbar" data-position="fixed">
        <div data-role="navbar">
            <ul>
                <li><a href="#homepage" >Contact Us</a></li>
                <li><a href="#secondpage">Menu</a></li>
                <li><a href="#thirdpage">Order</a></li>
                <li><a href="#about_us" class="ui-btn-active ui-state-persist">About Us</a></li>
                <li><a href="#map">Map</a></li>
            </ul>
        </div>
    </div>

    <div data-role="content">

        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed ultricies sollicitudin ante, at sodales magna condimentum in.
            Pellentesque malesuada nibh at odio dictum sed euismod augue commodo. Proin dignissim aliquet neque, ut auctor ipsum sollicitudin at.
            Donec porttitor faucibus rutrum. Etiam molestie, augue in ornare iaculis, libero ante eleifend purus, a volutpat felis dui ac enim.
            Quisque urna eros, tristique sit amet eleifend id, congue at sapien. Quisque ut arcu tortor. Suspendisse potenti. Maecenas sit amet dui
            eget metus dignissim mattis. Nullam pretium faucibus metus vitae tristique.</p>
        <p>

            Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Phasellus eget est justo, quis varius eros.
            Nullam accumsan magna eu sapien bibendum dapibus. Fusce sit amet dui sit amet justo eleifend scelerisque quis sed ligula. Curabitur sagittis,
            ligula eu facilisis vulputate, tortor leo suscipit lectus, vitae consequat est nulla ac metus. Nulla porta nibh ipsum, in mattis lacus. Aenean
            at nibh elit, quis accumsan ante. Donec a arcu et magna condimentum faucibus. Quisque pretium aliquam urna, eget pulvinar massa convallis eu.
            Nunc mattis varius risus iaculis lobortis. Ut tortor lacus, blandit laoreet placerat vel, tincidunt sit amet lorem. Donec bibendum nulla ut
            risus malesuada bibendum. Ut vel sapien in dui imperdiet elementum in quis ipsum. Aenean tincidunt egestas molestie. Suspendisse bibendum arcu
            eu lacus congue eget vulputate nulla lobortis.</p>
        <p>

            Nam eu felis justo, in porttitor turpis. Praesent rhoncus, nunc non pharetra iaculis, ligula nisi imperdiet libero, in imperdiet felis diam eu elit.
            Nunc tincidunt odio vitae ligula posuere euismod hendrerit nisi gravida. Vivamus ac augue lectus. Fusce elit dui, porta semper lobortis quis,
            convallis eget enim. Nulla facilisi. Nulla mi dolor, fringilla id volutpat lacinia, hendrerit et tellus. Mauris fringilla ipsum et neque rhoncus
            venenatis. Vestibulum leo nunc, mattis at scelerisque a, adipiscing ut ipsum. Morbi eget magna neque, at egestas mi. Donec tristique metus eget tortor
            suscipit ullamcorper. Sed arcu urna, auctor id faucibus id, bibendum sodales dolor. Nulla condimentum pharetra lorem, a convallis risus dictum vel.<p>
        <p>

            Fusce aliquet vulputate leo non lobortis. Maecenas tincidunt pretium pretium. Ut eu purus aliquet mi tincidunt venenatis a sed sem. Nunc suscipit egestas
            cursus. Nam tortor felis, tincidunt sit amet malesuada sed, vestibulum nec odio. Praesent auctor, nulla sed pharetra malesuada, magna nisi sollicitudin tortor,
            a placerat nisi diam non lacus. Quisque tempor adipiscing felis hendrerit lobortis. Fusce mollis neque non orci lacinia euismod hendrerit ligula egestas.
            Praesent condimentum porttitor venenatis.</p>


        Quisque ut libero vitae turpis mattis placerat ac vitae nibh. Proin eget nisi lacus. Fusce varius pellentesque facilisis. Sed vitae imperdiet elit.
        Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Curabitur turpis nisi, luctus id bibendum non, blandit vitae odio. Proin
        sollicitudin, arcu eu mollis eleifend, eros magna placerat erat, eu venenatis sapien est sit amet mauris.</p>


    </div>

    <div data-role="footer" data-position="fixed">
        <i>Copyright Gwen Langeberg </i>
    </div>
</div>




<!--Map-->
<div data-role="page" id="map">
    <header><img src="img/L-pizza.jpg"></header>
    <div data-role="header" data-id="navbar" data-position="fixed">
        <div data-role="navbar">
            <ul>
                <li><a href="#homepage">Contact Us</a></li>
                <li><a href="#secondpage">Menu</a></li>
                <li><a href="#thirdpage">Order</a></li>
                <li><a href="#about_us">About Us</a></li>
                <li><a href="#map" class="ui-btn-active ui-state-persist">Map</a></li>
            </ul>
        </div>
    </div>

    <div data-role="content">

        <p>
            <script>
                navigator.geolocation.getCurrentPosition(function(pos){

                    var lat= pos.coords.latitude;
                    var log = pos.coords.longitude;
                    console.log(lat + ":" + log);
                    $("#lat").text(lat);
                    $("#log").text(log);
                    var url = "<a href='daddr=Pizza+Hut,+3304+North+Nevada+Street,+Spokane,+WA+99207&saddr=" + lat + ',' + log + '"> Your Location </a>';
                    $("#url").html( url );
                    var map = '<iframe width="425" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="http://maps.google.com/maps?f=d&amp;source=s_d&amp;saddr=' + lat + '.' + log + '&amp;daddr=Pizza+Hut,+3304+North+Nevada+Street,+Spokane,+WA+99207&amp;geocode=FfOq1wIduLEA-Sl16BgaKBmeVDGSF4-H7rV7wQ&amp;aq=&amp;sll=47.762407,-117.386856&amp;sspn=0.235399,0.676346&amp;vpsrc=0&amp;t=h&amp;hl=en&amp;mra=prev&amp;ie=UTF8&amp;ll=47.762407,-117.386856&amp;spn=0.235399,0.676346&amp;output=embed"></iframe><br /><small><a href="http://maps.google.com/maps?f=d&amp;source=embed&amp;saddr=&amp;daddr=Pizza+Hut,+3304+North+Nevada+Street,+Spokane,+WA+99207&amp;geocode=FfOq1wIduLEA-Sl16BgaKBmeVDGSF4-H7rV7wQ&amp;aq=&amp;sll=47.762407,-117.386856&amp;sspn=0.235399,0.676346&amp;vpsrc=0&amp;t=h&amp;hl=en&amp;mra=prev&amp;ie=UTF8&amp;ll=47.762407,-117.386856&amp;spn=0.235399,0.676346" style="color:#0000FF;text-align:left">View Larger Map</a></small>'
                    $("#directionMap").html(map);
                })

            </script>

        <div id="directionMap">

        </div>
        </p>
    </div>

    <div data-role="footer" data-position="fixed">
        <i>Copyright Gwen Langeberg </i>
    </div>
</div>




<div data-role="footer" data-position="fixed">
    <i>Copyright Gwen Langeberg </i>
</div>
</div>



<script src="http://code.jquery.com/jquery.js"></script>



<script>

    var cart = [];

    function displayCart(){
        var cartDiv = $('#cartDiv');
        cartDiv.html("");
        var grandTotal = 0;
        for(var item in cart){
            var qty = cart[item].qty;
            var price = cart[item].price;
            var subtotal = qty * price;
            grandTotal += subtotal;
            cartDiv.append('<p>' + qty  + ' : ' + cart[item].name + '$' + price.toFixed(2) + '==' + '$' + subtotal.toFixed(2) + '</p>');
        }
        cartDiv.append('<p>Grand Total: $' + grandTotal.toFixed(2) + '</p>')
    }

    $(document).ready(function(){
        $('div[data-product]').each( function(){
            $(this).append('<button class="btnCart">Add To Cart</button>');
        })
        $('.btnCart').on("click", function(event){
            var pid = $(this).parent().parent().data("product");
            console.log(pid);
            if(cart[pid]){
                cart[pid].qty += 1;
            }else{
                cart[pid] = new Object();
                cart[pid].qty = 1;
                cart[pid].name = $(this).parent().siblings("span").data("name");
                cart[pid].price = $(this).parent().siblings("span").next().data("price");
            }
            displayCart();
        })

        $('#buy').on('click',function(event){
            var buyUrl = "";
            for(var item in cart){
                buyUrl += "&pid[]" + item + "&qty[]" + cart[item].qty
            }
            $.getJSON('buy.php?'+ buyUrl, function(data){
                $('#cartDiv').append(data);
            })
            $("#buy").parent().hide();
            //console.log("http://cis147-4.gweneverelangeberg.com/buy.php" + buyUrl);
        })
    })
</script>
</body>
</html>